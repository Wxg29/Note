<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <img src="../../images/栈和堆2.png" alt="">
</body>
<script>
    // var test = (function (i) {
    //     return function () {
    //         alert(i *= 2)
    //     }
    // })(2);
    // test(); //字符串 4
    /*
        alert弹出的都是字符串类型 
        返回的是一个函数 需要被执行 所以需要执行两次
    */
 
    // (function () {
    //     function fn() {
    //         console.log(111);
    //     }
    //     return fn()
    // })(); //111

    // (function () {
    //     return function () {
    //         console.log(222);
    //     }
    // })()()
    //返回的是一个函数 需要被执行 所以需要执行两次()()

    var a = 0,
        b = 0;

    function A(a) {
        A = function (b) {
            alert(a + b++); //2 + 2  a没有去上级找
        }
        alert(a++) // 1  --->1++ --- > 2
    };
    A(1);
    A(2);

    /*
        因为 A被重写了 所以就形成了闭包  --- 外层函数指向了被重写的地址,不会被销毁
    */


    /*
        闭包：函数嵌套函数 外面的函数必须返回里面的函数
        作用域: 变量不会被销毁 会一直被引用,里面的函数能使用外面函数的变量 外面函数不能是用里面的
        内存泄漏：该销毁的不能被销毁就叫内存泄漏

        闭包的作用：
            1.实现共有变量。
            2.可以用作缓存。
            3.可以实现函数封装，及属性私有化。
            4.模块化开发，防止污染全局变量。
    */
</script>

</html>